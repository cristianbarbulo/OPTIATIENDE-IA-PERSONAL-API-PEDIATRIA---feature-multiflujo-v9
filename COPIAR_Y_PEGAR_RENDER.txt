=================================================================================
üöÄ VARIABLES DE RENDER - COPIAR Y PEGAR DIRECTO
Centro Pedi√°trico Ballester - OPTIATIENDE-IA V11
=================================================================================

üìã INSTRUCCIONES:
1. Ir a Render.com ‚Üí Tu servicio ‚Üí Environment
2. Click en "Add Environment Variable"
3. Copiar cada variable (nombre + valor) y pegar en Render
4. Click "Save Changes"

=================================================================================
‚úÖ VARIABLES OBLIGATORIAS
=================================================================================

1. TENANT_NAME
   ballester

2. CLIENT_NAME
   Centro Pedi√°trico Ballester

3. OPENAI_API_KEY
   [COMPLETAR CON TU API KEY DE OPENAI]
   Obtener en: https://platform.openai.com/api-keys

4. GOOGLE_CREDENTIALS_JSON
   {"type":"service_account","project_id":"clinicaballester-de015","private_key_id":"da4db66c5e39508aa912e0bc6e5cde87b1bfe452","private_key":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDsZqB1B3KYz/g/\n54tp8GrP/pNS5okpT28D7Jc+krg1h+zpMbTVZdpX861OD0/QD4t/Lmf7u4M1E8rI\nZMilrRhW/x5g4KwMRe5P1WvreBQ+0o5+8T3aDESmgIzltCoMzqZGzfID7Dzc8NAt\n2FEdNBW5NiP1FLCSRg5Usteid61a5yoEkdwSIBlctTc5RVzn0Xz3gKfgXT1RetEW\n+UZvBDx8Iq4T3EqrupiX4UyhVfas5ExBS4+rAEAY2/RkodLIDMJ51o5p9S5aBZZV\n35S59k/CW5FNCsbXefT8t762BGs41CtDIbf1ySsuZ0XyYrzMkjUkwajGcdZGtpZu\nPSL/zbvBAgMBAAECggEAEyIWRAqLhZ81dDShFbyx5G4yDdBfUxLdBRgJwLR+yMRc\n0h3mCSyCcMJl6S63krsjWvKOU3NAghP9Ql1X2QLquKXS11vvyNmDGX6ISslP+Cqy\nAkezrhl2l/RJExFTIvC5x/rEpvkgjvBFpSRAImk0BebCH8SiKuCVKdlEtx9RDk2G\nB4Tz0c1TVWP+QTBveK02m/1JKlK3rm2EqDxeiSCQhsYi596UepNhhDRZ+xnzRPTA\nCkfq5aM3WGvOQnbBHXi1AEBGrK35Xp7UNtRg3ogBrrCdWQn6P56M/sw0zQ5hPfc2\nE659xqKcGMS126oI0rgvs6ZFk5j+12pp+Mtd7EzKcQKBgQD5cB++cP6XLIVVvNTy\nSLOU89FOA7DffCji7Y/fzlggDx0ITGoz/Ra1R8fTtMJ8DrrhoTvSlYNazj1WQZRI\n/Pay9qbvX0/5Hq/575TEDtCts6/aQh7Js8bNZ2ZylmI97YHkq7KUYDGJZ3Q7RLVI\nIJZXTv8dULxfXdVgEpzxteOIqQKBgQDynrPbpDBIWLAudQJt011oJ8p3q9xaHCkn\n6JGgkVgKjVm8zONVW0KfARla1ZT+Ugy/lDoa56gRYqW6UlmiJ8KUJEZw9uYF5KHQ\nffX7o6LRQuOmdPPRVf/vkbAnZQoPpNoTANydMHyIdPi7DNuVeoBmq0cNcFkgvXRl\ndvyYDqARWQKBgAXQz2ypRcZQi2tMU8qyVz2J0b935o/PXUStNUWKkhNtRsgCwBcm\nN3lSix4sgLxTu5e3IqXuRnm/hT6VmNd6zmWtyoaaOkscpA23wEgx8DucjOUR1ZXu\nUxxG5OSXDQNUnkquliNPetgxSUx4daGQ4PB4LwqH71xp26e5x177VqrBAoGBAPAb\nM3AZC1dtvd4cGm1KElSznGHWiVn8KJbASO6ZKII45Sg9tHWSvVnSop8MZElUNh2a\nue5KeD/MWqsMOHyL0Lr/M180WOxYGfPV1IxWoxlpkxX3BByVeZZDngs+qThWMyM/\nZRWDGJuK92VWEjHabBwvQUABgZMvK3QGz3BEeRDxAoGAHyOmi5Ov59+/lUoZUWzF\nnvZ81Cr46hyAjgRkcDX/Qm+9YPCtNEAnyc5llqv9++txppRAx08SBTnrfLzJfQ5F\nJMKZ0X4eUzIPBQ3EwLdYZ+Be4CEkHqWKsCdojXqiC9zqq4ThO09NxihKUedhYi1y\njDjKvgd5FNoXsS9uCqedOuw=\n-----END PRIVATE KEY-----\n","client_email":"firebase-adminsdk-fbsvc@clinicaballester-de015.iam.gserviceaccount.com","client_id":"103558247335107473989","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fbsvc%40clinicaballester-de015.iam.gserviceaccount.com","universe_domain":"googleapis.com"}

5. WHATSAPP_API_KEY
   [COMPLETAR CON API KEY DE 360DIALOG]

6. WHATSAPP_PHONE_NUMBER_ID
   [COMPLETAR CON PHONE NUMBER ID DE 360DIALOG]

7. WHATSAPP_BUSINESS_ACCOUNT_ID
   [COMPLETAR CON BUSINESS ACCOUNT ID DE 360DIALOG]

8. WEBHOOK_VERIFY_TOKEN
   ballester_webhook_2025_secure_token

9. CLINICA_API_BASE
   [COMPLETAR CON URL BASE DE LA API OMNIA]
   Ejemplo: https://api.clinicaballester.com/v1

10. CLINICA_API_KEY
    [COMPLETAR CON API KEY DE OMNIA]

11. NOTIFICATION_CONTACT
    [COMPLETAR CON N√öMERO DE WHATSAPP PARA NOTIFICACIONES]
    Formato: 549 + c√≥digo de √°rea + n√∫mero
    Ejemplo: 5491156975007

=================================================================================
‚úÖ VARIABLES OPCIONALES (RECOMENDADAS)
=================================================================================

12. PORT
    8080

13. FLASK_ENV
    production

14. DEBUG
    false

15. LOG_LEVEL
    INFO

=================================================================================
üìù CONFIGURACI√ìN DE RENDER
=================================================================================

Build Command:
pip install -r requirements.txt

Start Command:
gunicorn main:app --bind 0.0.0.0:$PORT --timeout 120 --workers 2

=================================================================================
üîó CONFIGURAR WEBHOOK EN 360DIALOG
=================================================================================

Una vez que tu servicio est√© Live en Render:

Webhook URL:
https://TU-SERVICIO.onrender.com/webhook

Verify Token:
ballester_webhook_2025_secure_token

Webhook Fields:
‚òë messages

=================================================================================
üß™ PRUEBAS R√ÅPIDAS
=================================================================================

1. Health Check:
   https://TU-SERVICIO.onrender.com/health
   Debe responder: {"status": "ok"}

2. WhatsApp - Mensaje de prueba:
   Hola

3. WhatsApp - Probar agendamiento:
   QUIERO AGENDAR neurolog√≠a

4. WhatsApp - Probar cobertura:
   Tengo IOMA

=================================================================================
‚úÖ BASE DE DATOS YA CARGADA EN FIREBASE
=================================================================================

- 99 obras sociales con coberturas completas
- 67 precios particulares
- Bonos de contribuci√≥n integrados
- TODO respetando el Excel original

Firebase Console:
https://console.firebase.google.com/u/5/project/clinicaballester-de015/firestore

=================================================================================
üéâ ¬°LISTO PARA DESPLEGAR!
=================================================================================

Una vez configuradas TODAS las variables y desplegado en Render:
1. El bot responder√° autom√°ticamente en WhatsApp
2. Aplicar√° las 99 reglas de obras sociales
3. Mostrar√° precios particulares correctos
4. Notificar√° turnos confirmados al NOTIFICATION_CONTACT

=================================================================================

